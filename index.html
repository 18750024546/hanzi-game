<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>识字涂色游戏</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="rainbow-background min-h-screen">
    <!-- 装饰性星星 -->
    <div class="fixed top-10 left-10 text-2xl sparkle-animation">⭐</div>
    <div class="fixed top-20 right-20 text-3xl sparkle-animation" style="animation-delay: 0.5s;">✨</div>
    <div class="fixed top-40 left-1/4 text-xl sparkle-animation" style="animation-delay: 1s;">🌟</div>
    <div class="fixed top-60 right-1/3 text-2xl sparkle-animation" style="animation-delay: 1.5s;">💫</div>
    <div class="fixed bottom-20 left-20 text-xl sparkle-animation" style="animation-delay: 2s;">⭐</div>
    <div class="fixed bottom-40 right-10 text-3xl sparkle-animation" style="animation-delay: 0.8s;">✨</div>
    <div class="fixed top-1/3 left-1/4 text-green-300 text-lg sparkle-animation" style="animation-delay: 0.3s;">⭐</div>
    <div class="fixed top-2/3 right-1/4 text-orange-300 text-lg sparkle-animation" style="animation-delay: 1.3s;">✨</div>
    <div class="fixed top-1/2 left-10 text-purple-300 text-xl sparkle-animation" style="animation-delay: 0.7s;">🌟</div>
    <div class="fixed bottom-1/3 right-20 text-blue-300 text-lg sparkle-animation" style="animation-delay: 1.8s;">💫</div>
    
    <div class="container mx-auto px-4 py-4">
        <!-- 开始页面 -->
        <div id="startPage" class="text-center">
            <div class="bg-white rounded-3xl shadow-2xl p-8 max-w-4xl mx-auto glow-animation">
                <div class="text-6xl mb-6 bounce-animation">🌈</div>
                <h1 class="text-4xl font-bold bg-gradient-to-r from-purple-600 via-pink-600 to-blue-600 bg-clip-text text-transparent mb-8">🎨 识字涂色游戏 🎨</h1>
                <div class="flex justify-center items-center mb-6">
                    <div class="text-xl rotate-animation mr-2">🎪</div>
                    <h2 class="text-2xl font-bold text-gray-800">选择你想学习的汉字</h2>
                    <div class="text-xl rotate-animation ml-2" style="animation-direction: reverse;">🎠</div>
                </div>
                <div class="grid grid-cols-4 gap-4 mb-8">
                    <button onclick="startGame('花')" class="bg-gradient-to-r from-pink-400 to-red-400 text-white font-bold py-4 px-6 rounded-2xl text-xl hover:from-pink-500 hover:to-red-500 transition-all duration-200 transform hover:scale-110 bounce-animation shadow-lg" style="animation-delay: 0.1s;">
                        🌺 花
                    </button>
                    <button onclick="startGame('草')" class="bg-gradient-to-r from-green-400 to-emerald-400 text-white font-bold py-4 px-6 rounded-2xl text-xl hover:from-green-500 hover:to-emerald-500 transition-all duration-200 transform hover:scale-110 bounce-animation shadow-lg" style="animation-delay: 0.2s;">
                        🌿 草
                    </button>
                    <button onclick="startGame('树')" class="bg-gradient-to-r from-green-500 to-teal-400 text-white font-bold py-4 px-6 rounded-2xl text-xl hover:from-green-600 hover:to-teal-500 transition-all duration-200 transform hover:scale-110 bounce-animation shadow-lg" style="animation-delay: 0.3s;">
                        🌳 树
                    </button>
                    <button onclick="startGame('鸟')" class="bg-gradient-to-r from-blue-400 to-indigo-400 text-white font-bold py-4 px-6 rounded-2xl text-xl hover:from-blue-500 hover:to-indigo-500 transition-all duration-200 transform hover:scale-110 bounce-animation shadow-lg" style="animation-delay: 0.4s;">
                        🐦 鸟
                    </button>
                    <button onclick="startGame('水')" class="bg-gradient-to-r from-cyan-400 to-blue-400 text-white font-bold py-4 px-6 rounded-2xl text-xl hover:from-cyan-500 hover:to-blue-500 transition-all duration-200 transform hover:scale-110 bounce-animation shadow-lg" style="animation-delay: 0.5s;">
                        💧 水
                    </button>
                    <button onclick="startGame('火')" class="bg-gradient-to-r from-red-400 to-orange-400 text-white font-bold py-4 px-6 rounded-2xl text-xl hover:from-red-500 hover:to-orange-500 transition-all duration-200 transform hover:scale-110 bounce-animation shadow-lg" style="animation-delay: 0.6s;">
                        🔥 火
                    </button>
                    <button onclick="startGame('山')" class="bg-gradient-to-r from-gray-400 to-slate-400 text-white font-bold py-4 px-6 rounded-2xl text-xl hover:from-gray-500 hover:to-slate-500 transition-all duration-200 transform hover:scale-110 bounce-animation shadow-lg" style="animation-delay: 0.7s;">
                        ⛰️ 山
                    </button>
                    <button onclick="startGame('月')" class="bg-gradient-to-r from-purple-400 to-violet-400 text-white font-bold py-4 px-6 rounded-2xl text-xl hover:from-purple-500 hover:to-violet-500 transition-all duration-200 transform hover:scale-110 bounce-animation shadow-lg" style="animation-delay: 0.8s;">
                        🌙 月
                    </button>
                </div>
                <div class="border-t pt-6">
                    <button onclick="showCustomPage()" class="bg-gradient-to-r from-yellow-400 to-orange-400 text-white font-bold py-4 px-8 rounded-2xl text-xl hover:from-yellow-500 hover:to-orange-500 transition-all duration-200 transform hover:scale-110 bounce-animation shadow-lg" style="animation-delay: 0.9s;">
                        ✨ 自定义汉字
                    </button>
                </div>
            </div>
        </div>

        <!-- 自定义汉字页面 -->
        <div id="customPage" class="hidden text-center">
            <div class="bg-white rounded-3xl shadow-2xl p-6 max-w-2xl mx-auto">
                <div class="text-5xl mb-4">✨</div>
                <h2 class="text-2xl font-bold text-gray-800 mb-6">自定义汉字</h2>
                
                <div class="space-y-4">
                    <div>
                        <label class="block text-base font-semibold text-gray-700 mb-2">目标汉字</label>
                        <input type="text" id="customChar" maxlength="1" class="w-16 h-16 text-3xl text-center border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:outline-none" placeholder="字">
                    </div>
                    
                    <div>
                        <label class="block text-base font-semibold text-gray-700 mb-2">混淆字符（用空格分隔，可选）</label>
                        <textarea id="customConfusers" rows="2" class="w-full p-3 text-base border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:outline-none" placeholder="可输入混淆字符，用空格分隔。如不输入或不足，系统将智能补全"></textarea>
                        <div class="text-xs text-gray-500 mt-1">💡 智能提示：系统会根据目标汉字自动匹配相似字符作为混淆字符，您也可以手动输入自定义的混淆字符</div>
                    </div>
                    
                    <div>
                    <label class="block text-base font-semibold text-gray-700 mb-2">混淆字符数量</label>
                    <select id="customConfuserCount" class="w-28 p-2 text-base border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:outline-none">
                        <option value="10">10个</option>
                        <option value="12">12个</option>
                        <option value="13" selected>13个</option>
                        <option value="14">14个</option>
                        <option value="15">15个</option>
                    </select>
                </div>
                </div>
                
                <div class="flex justify-center space-x-4 mt-6">
                    <button onclick="backToStart()" class="bg-gray-500 text-white font-bold py-2 px-5 rounded-xl hover:bg-gray-600 transition-colors">
                        返回
                    </button>
                    <button onclick="startCustomGame()" class="bg-gradient-to-r from-blue-500 to-purple-500 text-white font-bold py-2 px-6 rounded-xl hover:from-blue-600 hover:to-purple-600 transition-all duration-200 transform hover:scale-105">
                        开始游戏
                    </button>
                </div>
            </div>
        </div>
        
        <!-- 游戏页面 -->
        <div id="gamePage" class="hidden game-page">
            <!-- 游戏头部 -->
            <div class="flex justify-between items-center mb-6">
                <div class="flex space-x-2">
                    <button onclick="backToStart()" class="bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition-colors">
                        返回
                    </button>
                    <button onclick="restartGame()" class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors">
                        重来
                    </button>
                </div>
                <div class="flex space-x-2">
                    <button onclick="speak(currentChar)" class="bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition-colors">
                        🔊 发音
                    </button>
                    <button onclick="changeCharacter()" class="bg-purple-500 text-white px-4 py-2 rounded-lg hover:bg-purple-600 transition-colors">
                        换字
                    </button>
                </div>
            </div>
            
            <!-- 进度显示 -->
            <div class="text-center mb-6">
                <div class="text-2xl font-bold text-gray-800 mb-2">
                    找到 <span id="foundCount">0</span> / <span id="totalCount">3</span> 个 "<span id="targetChar">花</span>" 字
                </div>
                <div class="w-full bg-gray-200 rounded-full h-3">
                    <div id="progressBar" class="bg-gradient-to-r from-green-400 to-blue-500 h-3 rounded-full transition-all duration-500" style="width: 0%"></div>
                </div>
            </div>
            
            <!-- 游戏区域 -->
            <div class="flex justify-center">
                <div id="gameArea" class="circle-layout">
                    <!-- 中心字符 -->
                    <div id="centerChar" class="center-char">花</div>
                    <!-- 周围字符将通过JavaScript动态生成 -->
                </div>
            </div>
        </div>
        
        <!-- 完成页面 -->
        <div id="completePage" class="hidden text-center">
            <div class="bg-white rounded-3xl shadow-2xl p-8 max-w-md mx-auto">
                <div class="text-6xl mb-6">🎉</div>
                <h2 class="text-3xl font-bold text-gray-800 mb-4">恭喜完成！</h2>
                <div class="mb-6">
                    <img id="completionImage" src="" alt="完成图片" class="w-64 h-64 object-cover rounded-2xl mx-auto mb-4">
                    <div id="charMeaning" class="text-xl font-semibold text-gray-700 mb-2"></div>
                    <div id="charDescription" class="text-gray-600"></div>
                </div>
                <div class="flex justify-center space-x-4">
                    <button onclick="backToStart()" class="bg-blue-500 text-white font-bold py-3 px-6 rounded-xl hover:bg-blue-600 transition-colors">
                        返回首页
                    </button>
                    <button onclick="restartGame()" class="bg-green-500 text-white font-bold py-3 px-6 rounded-xl hover:bg-green-600 transition-colors">
                        再玩一次
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <script src="script.js"></script>
</body>
</html>